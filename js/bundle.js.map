{"version":3,"sources":["webpack:///webpack/bootstrap 81941db78746afe27df8","webpack:///./js/main.js","webpack:///./js/mesh.js","webpack:///./js/airfoil.js","webpack:///./js/airfoils/NACA0008.js","webpack:///./js/airfoils/NACA2412.js","webpack:///./js/airfoils/NACA6409.js","webpack:///./js/airfoils/vertical_plate.js","webpack:///./js/airfoils/concave.js","webpack:///./js/airfoils/convex.js","webpack:///./js/math.js","webpack:///./js/selectors.js"],"names":["$","canvas","angle","width","height","window","stepCount","startTime","speed","Number","val","steps","viscosity","contrast","time","running","pxPerSquare","shape","ctx","getContext","image","createImageData","i","data","length","mesh","click","animate","change","e","updateAngle","resetTimer","adjustSpeed","adjustViscosity","adjustContrast","initTracers","selectShape","adjustResolution","resetCanvas","attr","removeClass","addClass","html","reset","simulate","currentTarget","value","airfoil","parseInt","updateBarrier","paintCanvas","id","changeShape","Date","getTime","checked","nRows","Math","ceil","sqrt","nTracers","dx","xdim","dy","ydim","nextX","nextY","t","tracerX","tracerY","stepsPerFrame","setBoundaries","step","collide","stream","moveTracers","setTimeout","stable","x","index","rho","initFluid","Mesh","n0","Array","nN","nS","nE","nW","nNE","nSE","nNW","nSW","ux","uy","curl","barrier","calcCoords","y","coords","transBlackArraySize","transBlackArray","toFixed","setColors","r","g","b","fy","py","px","nColors","redList","greenList","blueList","c","round","u0","setEquil","cIndex","pow","computeCurl","colorSquare","putImageData","drawTracers","newux","newuy","newrho","ux3","uy3","ux2","uy2","uxuy2","u2","u215","omega","thisrho","thisux","thisuy","one9thrho","one36thrho","roundedX","roundedY","random","fillStyle","canvasX","canvasY","fillRect","Airfoil","aAttack","x_sum","y_sum","map","point","x_coor","y_coor","centroid","NACA0008","module","exports","NACA2412","NACA6409","plate","concave","convex","push","k","multiply","A","B","canMultiply","out","sum","j","rotation","theta","cos","sin","subtract","add","degToRads","deg","PI","pointInPolygon","polygon","inside","xi","yi","xj","yj","intersect"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 81941db78746afe27df8","import Mesh from './mesh';\n\n$( () => {\n  const canvas = $(\"#canvas\")[0];\n  const angle = $(\"#range\")[0];\n  canvas.width = 500;\n  canvas.height = 200;\n  window.stepCount = 0;\n  window.startTime = 0;\n  window.speed = Number($(\"#speedValue\").val());\n  window.steps = 20;\n  window.viscosity = 0.02;\n  window.contrast = 0;\n  window.time = 0;\n  window.running = false;\n  window.pxPerSquare = 2;\n  window.shape = 1;\n\n  const ctx = canvas.getContext(\"2d\");\n  let image = ctx.createImageData(canvas.width, canvas.height);\n  for (let i = 3; i < image.data.length; i += 4) {\n    image.data[i] = 255;\t\t\t// set all alpha values to opaque\n  }\n\n  window.mesh = new Mesh(ctx, canvas.width/window.pxPerSquare, canvas.height/window.pxPerSquare, image);\n\n  $(\"#animate\").click(animate);\n  $(\"#angleSlider\").change((e) => updateAngle(e));\n  $(\"#stepSlider\").change((e) => resetTimer(e));\n  $(\"#speedSlider\").change((e) => adjustSpeed(e));\n  $(\"#viscSlider\").change((e) => adjustViscosity(e));\n  $(\"#contrastSlider\").change((e) => adjustContrast(e));\n  $(\"#tracerCheck\").change((e) => initTracers(e));\n  $(\".shape\").click((e) => selectShape(e));\n  $(\"#resolution\").change((e) => adjustResolution(e, image, ctx));\n  $(\"#reset\").click((e) => resetCanvas(ctx, image));\n});\n\nfunction animate() {\n  window.running = !window.running;\n  if (window.running) {\n    if ($(\"#error\").attr(\"class\") === \"error-show\") {\n      $(\"#error\").removeClass(\"error-show\").addClass(\"error\");\n    }\n    $(\"#animate\").html(\"Pause\");\n    reset();\n    simulate();\n  } else {\n    $(\"#animate\").html(\"Run Simulation\");\n  }\n}\n\nfunction updateAngle(e) {\n  $(\"#angleValue\").val(e.currentTarget.value);\n  window.mesh.airfoil.updateAngle(parseInt(e.currentTarget.value));\n  window.mesh.updateBarrier();\n  window.mesh.paintCanvas();\n}\n\nfunction selectShape(e) {\n  $(`#${window.shape}`).removeClass(\"selectedShape\")\n  window.shape = Number(e.currentTarget.id);\n  $(`#${e.currentTarget.id}`).addClass(\"selectedShape\"); // change css here\n  window.mesh.airfoil.changeShape();\n  window.mesh.updateBarrier();\n  window.mesh.paintCanvas();\n}\n\nfunction adjustSpeed(e) {\n  $(\"#speedValue\").val(e.currentTarget.value);\n  window.speed = e.currentTarget.value;\n}\n\nfunction adjustViscosity(e) {\n  $(\"#viscValue\").val(e.currentTarget.value);\n  window.viscosity = Number(e.currentTarget.value);\n}\n\nfunction reset() {\n  window.stepCount = 0;\n  window.startTime = (new Date()).getTime();\n}\n\nfunction resetTimer(e) {\n  $(\"#stepValue\").val(e.currentTarget.value);\n  window.steps = Number(e.currentTarget.value);\n  reset();\n}\n\nfunction adjustContrast(e) {\n  $(\"#contrastValue\").val(e.currentTarget.value);\n  window.contrast = Number(e.currentTarget.value);\n  window.mesh.paintCanvas();\n}\n\nfunction adjustResolution(e, image, ctx) {\n  if (window.running) {\n    window.running = !window.running;\n    $(\"#animate\").html(\"Run Simulation\");\n  }\n\n  if (e.currentTarget.checked) {\n    window.pxPerSquare = 1;\n  } else {\n    window.pxPerSquare = 2;\n  }\n\n  resetCanvas(ctx, image);\n}\n\nfunction resetCanvas(ctx, image) {\n  window.running = false;\n  $(\"#tracerCheck\").attr('checked', false);\n  $(\"#animate\").html(\"Run Simulation\");\n\n  window.mesh = new Mesh(ctx, 500/window.pxPerSquare, 200/window.pxPerSquare, image);\n  window.mesh.paintCanvas();\n}\n\nfunction initTracers(e) {\n  if (e.currentTarget.checked) {\n    let nRows = Math.ceil(Math.sqrt(window.mesh.nTracers));\n    let dx = window.mesh.xdim / nRows;\n    let dy = window.mesh.ydim / nRows;\n    let nextX = dx / 2;\n    let nextY = dy / 2;\n    for (let t = 0; t < window.mesh.nTracers; t++) {\n      window.mesh.tracerX[t] = nextX;\n      window.mesh.tracerY[t] = nextY;\n      nextX += dx;\n      if (nextX > window.mesh.xdim) {\n        nextX = dx / 2;\n        nextY += dy;\n      }\n    }\n  }\n  window.mesh.paintCanvas();\n}\n\nfunction simulate() {\n  let stepsPerFrame = Number(window.steps);\t\t\t// number of simulation steps per animation frame\n  window.mesh.setBoundaries();\n\n  // Execute a bunch of time steps:\n  for (let step = 0; step < stepsPerFrame; step++) {\n    window.mesh.collide();\n    window.mesh.stream();\n    if ($(\"#tracerCheck\")[0].checked) window.mesh.moveTracers();\n    window.time++;\n  }\n\n  window.mesh.paintCanvas();\n\n  if (window.running) {\n    window.stepCount += stepsPerFrame;\n    window.setTimeout(() => simulate(), 1);\n  }\n\n  let stable = true;\n  for (let x = 0; x < window.mesh.xdim; x++) {\n    var index = x + (window.mesh.ydim/2)*window.mesh.xdim;\t// look at middle row only\n    if (window.mesh.rho[index] <= 0) stable = false;\n  }\n\n  if (!stable) {\n    $(\"#error\").addClass(\"error-show\").removeClass(\"error\");\n    animate();\n    window.mesh.initFluid();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","import Airfoil from './airfoil';\nimport { pointInPolygon } from './selectors';\n\nexport default class Mesh {\n  constructor(ctx, xdim, ydim, image) {\n    this.ctx = ctx;\n    this.image = image;\n    this.xdim = xdim;\n    this.ydim = ydim;\n\n    // Create the arrays of fluid particle densities, etc. (using 1D arrays for speed):\n    // To index into these arrays, use x + y*xdim, traversing rows first and then columns.\n    this.n0 = new Array(xdim*ydim);\t\t\t// microscopic densities along each lattice direction\n    this.nN = new Array(xdim*ydim);\n    this.nS = new Array(xdim*ydim);\n    this.nE = new Array(xdim*ydim);\n    this.nW = new Array(xdim*ydim);\n    this.nNE = new Array(xdim*ydim);\n    this.nSE = new Array(xdim*ydim);\n    this.nNW = new Array(xdim*ydim);\n    this.nSW = new Array(xdim*ydim);\n    this.rho = new Array(xdim*ydim);\t\t\t// macroscopic density\n    this.ux = new Array(xdim*ydim);\t\t\t// macroscopic velocity\n    this.uy = new Array(xdim*ydim);\n    this.curl = new Array(xdim*ydim);\n    this.barrier = new Array(xdim*ydim);\t\t// boolean array of barrier locations\n\n    // Initialize airfoil and generate barrier points:\n    this.airfoil = new Airfoil(ctx, 0)\n    this.airfoil.calcCoords();\n    for (let y = 0; y < ydim; y++) {\n      for (let x = 0; x < xdim; x++) {\n        if(pointInPolygon(x, y, this.airfoil.coords)) {\n          this.barrier[x+y*xdim] = true;\n        } else {\n          this.barrier[x+y*xdim] = false;\n        }\n      }\n    }\n\n    // Initialize array of partially transparant blacks, for drawing flow lines:\n    const transBlackArraySize = 50;\n    this.transBlackArray = new Array(transBlackArraySize);\n    for (let i = 0; i < transBlackArraySize; i++) {\n      this.transBlackArray[i] = \"rgba(0,0,0,\" + Number(i/transBlackArraySize).toFixed(2) + \")\";\n    }\n\n    // Initialize tracers (but don't place them yet):\n    this.nTracers = 144;\n    this.tracerX = new Array(this.nTracers);\n    this.tracerY = new Array(this.nTracers);\n    for (let t = 0; t < this.nTracers; t++) {\n      this.tracerX[t] = 0.0; this.tracerY[t] = 0.0;\n    }\n\n    this.setColors();\n    this.initFluid();\n  }\n\n  updateSize(xdim, ydim) {\n    this.xdim = xdim;\n    this.ydim = ydim;\n  }\n\n  colorSquare(x, y, r, g, b) {\n    let fy = this.ydim - y - 1;\n    let index;\n    for (let py = fy * window.pxPerSquare; py < (fy + 1) * window.pxPerSquare; py++) {\n      for (let px = x * window.pxPerSquare; px < (x + 1) * window.pxPerSquare; px++) {\n        index = (px + py*this.image.width) * 4;\n        this.image.data[index+0] = r;\n        this.image.data[index+1] = g;\n        this.image.data[index+2] = b;\n      }\n    }\n  }\n\n  updateBarrier() {\n    this.airfoil.calcCoords();\n    for (let y = 0; y < this.ydim; y++) {\n      for (let x = 0; x < this.xdim; x++) {\n        if(pointInPolygon(x, y, this.airfoil.coords)) {\n          this.barrier[x+y*this.xdim] = true;\n        } else {\n          this.barrier[x+y*this.xdim] = false;\n        }\n      }\n    }\n  }\n\n  setColors() {\n    // Set up the array of colors for plotting (mimicks matplotlib \"jet\" colormap):\n    // (Kludge: Index nColors+1 labels the color used for drawing barriers.)\n    var nColors = 400;\t\t\t\t\t\t\t// there are actually nColors+2 colors\n    this.redList = new Array(nColors+2);\n    this.greenList = new Array(nColors+2);\n    this.blueList = new Array(nColors+2);\n    for (var c=0; c<=nColors; c++) {\n      var r, g, b;\n      if (c < nColors/8) {\n        r = 0; g = 0; b = Math.round(255 * (c + nColors/8) / (nColors/4));\n      } else if (c < 3*nColors/8) {\n        r = 0; g = Math.round(255 * (c - nColors/8) / (nColors/4)); b = 255;\n      } else if (c < 5*nColors/8) {\n        r = Math.round(255 * (c - 3*nColors/8) / (nColors/4)); g = 255; b = 255 - r;\n      } else if (c < 7*nColors/8) {\n        r = 255; g = Math.round(255 * (7*nColors/8 - c) / (nColors/4)); b = 0;\n      } else {\n        r = Math.round(255 * (9*nColors/8 - c) / (nColors/4)); g = 0; b = 0;\n      }\n      this.redList[c] = r; this.greenList[c] = g; this.blueList[c] = b;\n    }\n    this.redList[nColors+1] = 0; this.greenList[nColors+1] = 0; this.blueList[nColors+1] = 0;\t// barriers are black\n  }\n\n  initFluid() {\n    const u0 = Number(window.speed);\n    for (let y = 0; y < this.ydim; y++) {\n      for (let x = 0; x < this.xdim; x++) {\n        this.setEquil(x, y, u0, 0, 1);\n        this.curl[x+y*this.xdim] = 0.0;\n      }\n    }\n    this.paintCanvas();\n  }\n\n  paintCanvas() {\n\t\tlet cIndex = 0;\n\t\tconst contrast = Math.pow(1.2, Number(window.contrast));\n    const nColors = 400;\n\n\t\tthis.computeCurl();\n\t\tfor (let y = 0; y < this.ydim; y++) {\n\t\t\tfor (let x = 0; x < this.xdim; x++) {\n\t\t\t\tif (this.barrier[x+y*this.xdim]) {\n\t\t\t\t\tcIndex = nColors + 1;\t// kludge for barrier color which isn't really part of color map\n\t\t\t\t} else {\n\t\t\t\t\tcIndex = Math.round(nColors * (this.curl[x+y*this.xdim]*5*contrast + 0.5));\n\t\t\t\t\tif (cIndex < 0) cIndex = 0;\n\t\t\t\t\tif (cIndex > nColors) cIndex = nColors;\n\t\t\t\t}\n\t\t\t\tthis.colorSquare(x, y, this.redList[cIndex], this.greenList[cIndex], this.blueList[cIndex]);\n\t\t\t}\n\t\t}\n\n    this.ctx.putImageData(this.image, 0, 0);\t\t// blast image to the screen\n\t\t// Draw tracers if appropriate:\n\t\tif ($(\"#tracerCheck\")[0].checked) this.drawTracers();\n  }\n\n  // Compute the curl (actually times 2) of the macroscopic velocity field, for plotting:\n  computeCurl() {\n    for (let y = 1; y < this.ydim - 1; y++) {\t\t\t// interior sites only; leave edges set to zero\n      for (let x = 1; x < this.xdim - 1; x++) {\n        this.curl[x+y*this.xdim] = this.uy[x+1+y*this.xdim] - this.uy[x-1+y*this.xdim] - this.ux[x+(y+1)*this.xdim] + this.ux[x+(y-1)*this.xdim];\n      }\n    }\n  }\n\n  setEquil(x, y, newux, newuy, newrho) {\n\t\tconst i = x + y*this.xdim;\n\t\tif (typeof newrho == 'undefined') {\n\t\t\tnewrho = rho[i];\n\t\t}\n\t\tconst ux3 = 3 * newux;\n\t\tconst uy3 = 3 * newuy;\n\t\tconst ux2 = newux * newux;\n\t\tconst uy2 = newuy * newuy;\n\t\tconst uxuy2 = 2 * newux * newuy;\n\t\tconst u2 = ux2 + uy2;\n\t\tconst u215 = 1.5 * u2;\n\t\tthis.n0[i]  = (4.0 / 9.0) * newrho *  (1                              - u215);\n\t\tthis.nE[i]  = (1.0 / 9.0) * newrho *  (1 + ux3       + 4.5*ux2        - u215);\n\t\tthis.nW[i]  = (1.0 / 9.0) * newrho *  (1 - ux3       + 4.5*ux2        - u215);\n\t\tthis.nN[i]  = (1.0 / 9.0) * newrho *  (1 + uy3       + 4.5*uy2        - u215);\n\t\tthis.nS[i]  = (1.0 / 9.0) * newrho *  (1 - uy3       + 4.5*uy2        - u215);\n\t\tthis.nNE[i] = (1.0 / 36.0) * newrho * (1 + ux3 + uy3 + 4.5*(u2+uxuy2) - u215);\n\t\tthis.nSE[i] = (1.0 / 36.0) * newrho * (1 + ux3 - uy3 + 4.5*(u2-uxuy2) - u215);\n\t\tthis.nNW[i] = (1.0 / 36.0) * newrho * (1 - ux3 + uy3 + 4.5*(u2-uxuy2) - u215);\n\t\tthis.nSW[i] = (1.0 / 36.0) * newrho * (1 - ux3 - uy3 + 4.5*(u2+uxuy2) - u215);\n\t\tthis.rho[i] = newrho;\n\t\tthis.ux[i] = newux;\n\t\tthis.uy[i] = newuy;\n\t}\n\n  setBoundaries() {\n    const u0 = Number(window.speed);\n\n    for (let x = 0; x < this.xdim; x++) {\n      this.setEquil(x, 0, u0, 0, 1);\n      this.setEquil(x, this.ydim-1, u0, 0, 1);\n    }\n\n    for (let y = 1; y < this.ydim - 1; y++) {\n      this.setEquil(0, y, u0, 0, 1);\n      this.setEquil(this.xdim-1, y, u0, 0, 1);\n    }\n  }\n\n  collide() {\n\t\tconst viscosity = window.viscosity;\t// kinematic viscosity coefficient in natural units\n\t\tconst omega = 1 / (3*viscosity + 0.5);\t\t// reciprocal of relaxation time\n\n    let i, thisrho, thisux, thisuy;\n\n\t\tfor (let y = 1; y < this.ydim - 1; y++) {\n\t\t\tfor (let x = 1; x < this.xdim - 1; x++) {\n\t\t\t\ti = x + y * this.xdim;\t\t// array index for this lattice site\n\n\t\t\t\tthisrho = this.n0[i] + this.nN[i] + this.nS[i] + this.nE[i] + this.nW[i] + this.nNW[i] + this.nNE[i] + this.nSW[i] + this.nSE[i];\n        thisux = (this.nE[i] + this.nNE[i] + this.nSE[i] - this.nW[i] - this.nNW[i] - this.nSW[i]) / thisrho;\n        thisuy = (this.nN[i] + this.nNE[i] + this.nNW[i] - this.nS[i] - this.nSE[i] - this.nSW[i]) / thisrho;\n\n\t\t\t\tthis.rho[i] = thisrho;\n\t\t\t\tthis.ux[i] = thisux;\n\t\t\t\tthis.uy[i] = thisuy;\n\n\t\t\t\tvar one9thrho = (1.0 / 9.0) * thisrho;\t\t// pre-compute a bunch of stuff for optimization\n\t\t\t\tvar one36thrho = (1.0 / 36.0) * thisrho;\n\t\t\t\tvar ux3 = 3 * thisux;\n\t\t\t\tvar uy3 = 3 * thisuy;\n\t\t\t\tvar ux2 = thisux * thisux;\n\t\t\t\tvar uy2 = thisuy * thisuy;\n\t\t\t\tvar uxuy2 = 2 * thisux * thisuy;\n\t\t\t\tvar u2 = ux2 + uy2;\n\t\t\t\tvar u215 = 1.5 * u2;\n\n\t\t\t\tthis.n0[i]  += omega * ((4.0 / 9.0)*thisrho * (1                       - u215) - this.n0[i]);\n\t\t\t\tthis.nE[i]  += omega * (   one9thrho * (1 + ux3       + 4.5*ux2        - u215) - this.nE[i]);\n\t\t\t\tthis.nW[i]  += omega * (   one9thrho * (1 - ux3       + 4.5*ux2        - u215) - this.nW[i]);\n\t\t\t\tthis.nN[i]  += omega * (   one9thrho * (1 + uy3       + 4.5*uy2        - u215) - this.nN[i]);\n\t\t\t\tthis.nS[i]  += omega * (   one9thrho * (1 - uy3       + 4.5*uy2        - u215) - this.nS[i]);\n\t\t\t\tthis.nNE[i] += omega * (  one36thrho * (1 + ux3 + uy3 + 4.5*(u2+uxuy2) - u215) - this.nNE[i]);\n\t\t\t\tthis.nSE[i] += omega * (  one36thrho * (1 + ux3 - uy3 + 4.5*(u2-uxuy2) - u215) - this.nSE[i]);\n\t\t\t\tthis.nNW[i] += omega * (  one36thrho * (1 - ux3 + uy3 + 4.5*(u2-uxuy2) - u215) - this.nNW[i]);\n\t\t\t\tthis.nSW[i] += omega * (  one36thrho * (1 - ux3 - uy3 + 4.5*(u2+uxuy2) - u215) - this.nSW[i]);\n\t\t\t}\n\t\t}\n\n\t\tfor (let y = 1; y < this.ydim - 2; y++) {\n\t\t\tthis.nW[this.xdim-1+y*this.xdim] = this.nW[this.xdim-2+y*this.xdim];\t\t// at right end, copy left-flowing densities from next row to the left\n\t\t\tthis.nNW[this.xdim-1+y*this.xdim] = this.nNW[this.xdim-2+y*this.xdim];\n\t\t\tthis.nSW[this.xdim-1+y*this.xdim] = this.nSW[this.xdim-2+y*this.xdim];\n\t\t}\n\t}\n\n  // Move particles along their directions of motion:\n\tstream() {\n\t\tfor (let y = this.ydim - 2; y > 0; y--) {\t\t\t// first start in NW corner...\n\t\t\tfor (let x = 1; x < this.xdim - 1; x++) {\n\t\t\t\tthis.nN[x+y*this.xdim] = this.nN[x+(y-1)*this.xdim];\t\t\t// move the north-moving particles\n\t\t\t\tthis.nNW[x+y*this.xdim] = this.nNW[x+1+(y-1)*this.xdim];\t\t// and the northwest-moving particles\n\t\t\t}\n\t\t}\n\t\tfor (let y = this.ydim - 2; y > 0; y--) {\t\t\t// now start in NE corner...\n\t\t\tfor (let x = this.xdim - 2; x > 0; x--) {\n\t\t\t\tthis.nE[x+y*this.xdim] = this.nE[x-1+y*this.xdim];\t\t\t// move the east-moving particles\n\t\t\t\tthis.nNE[x+y*this.xdim] = this.nNE[x-1+(y-1)*this.xdim];\t\t// and the northeast-moving particles\n\t\t\t}\n\t\t}\n\t\tfor (let y = 1; y < this.ydim - 1; y++) {\t\t\t// now start in SE corner...\n\t\t\tfor (let x = this.xdim - 2; x > 0; x--) {\n\t\t\t\tthis.nS[x+y*this.xdim] = this.nS[x+(y+1)*this.xdim];\t\t\t// move the south-moving particles\n\t\t\t\tthis.nSE[x+y*this.xdim] = this.nSE[x-1+(y+1)*this.xdim];\t\t// and the southeast-moving particles\n\t\t\t}\n\t\t}\n\t\tfor (let y = 1; y < this.ydim - 1; y++) {\t\t\t\t// now start in the SW corner...\n\t\t\tfor (let x = 1; x < this.xdim - 1; x++) {\n\t\t\t\tthis.nW[x+y*this.xdim] = this.nW[x+1+y*this.xdim];\t\t\t// move the west-moving particles\n\t\t\t\tthis.nSW[x+y*this.xdim] = this.nSW[x+1+(y+1)*this.xdim];\t\t// and the southwest-moving particles\n\t\t\t}\n\t\t}\n    let index;\n\t\tfor (let y = 1; y < this.ydim - 1; y++) {\t\t\t\t// Now handle bounce-back from barriers\n\t\t\tfor (let x = 1; x < this.xdim - 1; x++) {\n\t\t\t\tif (this.barrier[x+y*this.xdim]) {\n\t\t\t\t\tindex = x + y*this.xdim;\n\t\t\t\t\tthis.nE[x+1+y*this.xdim] = this.nW[index];\n\t\t\t\t\tthis.nW[x-1+y*this.xdim] = this.nE[index];\n\t\t\t\t\tthis.nN[x+(y+1)*this.xdim] = this.nS[index];\n\t\t\t\t\tthis.nS[x+(y-1)*this.xdim] = this.nN[index];\n\t\t\t\t\tthis.nNE[x+1+(y+1)*this.xdim] = this.nSW[index];\n\t\t\t\t\tthis.nNW[x-1+(y+1)*this.xdim] = this.nSE[index];\n\t\t\t\t\tthis.nSE[x+1+(y-1)*this.xdim] = this.nNW[index];\n\t\t\t\t\tthis.nSW[x-1+(y-1)*this.xdim] = this.nNE[index];\n        }\n\t\t\t}\n\t\t}\n\t}\n\n  moveTracers() {\n    let roundedX, roundedY, index;\n    for (let t = 0; t < this.nTracers; t++) {\n      roundedX = Math.round(this.tracerX[t]);\n      roundedY = Math.round(this.tracerY[t]);\n      index = roundedX + roundedY*this.xdim;\n      this.tracerX[t] += this.ux[index];\n      this.tracerY[t] += this.uy[index];\n      if (this.tracerX[t] > this.xdim-1) {\n        this.tracerX[t] = 0;\n        this.tracerY[t] = Math.random() * this.ydim;\n      }\n    }\n  }\n\n  // Draw the tracer particles:\n  drawTracers() {\n    this.ctx.fillStyle = \"rgb(150,150,150)\";\n    for (let t = 0; t < this.nTracers; t++) {\n      var canvasX = (this.tracerX[t]+0.5) * window.pxPerSquare;\n      var canvasY = $(\"#canvas\")[0].height - (this.tracerY[t]+0.5) * window.pxPerSquare;\n      this.ctx.fillRect(canvasX-1, canvasY-1, 2, 2);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/mesh.js","import NACA0008 from './airfoils/NACA0008';\nimport NACA2412 from './airfoils/NACA2412';\nimport NACA6409 from './airfoils/NACA6409';\nimport plate from './airfoils/vertical_plate';\nimport concave from './airfoils/concave';\nimport convex from './airfoils/convex';\nimport { rotation, multiply, subtract, add, degToRads } from './math';\n\nexport default class Airfoil {\n  constructor(ctx, aAttack = 0) {\n    this.ctx = ctx;\n    this.aAttack = degToRads(aAttack);\n    this.changeShape();\n  }\n\n  calcCoords() {\n    let x_sum = 0;\n    let y_sum = 0;\n    this.coords = this.shape.map( (point) => {\n      let x_coor;\n      if (this.shape === convex) {\n        x_coor = Math.round((150*(point[0]+1)-50)/window.pxPerSquare);\n      } else {\n        x_coor = Math.round((150*(point[0]+1)-70)/window.pxPerSquare);\n      }\n      const y_coor = Math.round((150*(point[1]+1)-50)/window.pxPerSquare);\n      x_sum += x_coor;\n      y_sum += y_coor;\n\n      return [x_coor, y_coor];\n    });\n\n    this.centroid = [ x_sum/(this.coords.length), y_sum/(this.coords.length) ];\n    this.coords = subtract(this.coords, this.centroid);\n    this.coords = this.coords.map( (point) => {\n      return multiply(rotation(this.aAttack), point);\n    });\n\n    this.coords = add(this.coords, this.centroid);\n  }\n\n  updateAngle(aAttack) {\n    this.aAttack = degToRads(aAttack);\n  }\n\n  changeShape() {\n    switch (window.shape) {\n      case 1:\n        this.shape = plate;\n        break;\n      case 2:\n        this.shape = NACA0008;\n        break;\n      case 3:\n        this.shape = NACA2412;\n        break;\n      case 4:\n        this.shape = NACA6409;\n        break;\n      case 5:\n        this.shape = concave;\n        break;\n      case 6:\n        this.shape = convex;\n        break;\n      default:\n        this.shape = plate;\n        break;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/airfoil.js","const NACA0008 = [\n  [1.0000,     0.00084],\n  [0.9500,     0.00537],\n  [0.9000,     0.00965],\n  [0.8000,     0.01749],\n  [0.7000,     0.02443],\n  [0.6000,     0.03043],\n  [0.5000,     0.03529],\n  [0.4000,     0.03869],\n  [0.3000,     0.04001],\n  [0.2500,     0.03961],\n  [0.2000,     0.03825],\n  [0.1500,     0.03564],\n  [0.1000,     0.03121],\n  [0.0750,     0.02800],\n  [0.0500,     0.02369],\n  [0.0250,     0.01743],\n  [0.0125,     0.01263],\n  [0.0000,     0.00000],\n  [0.0125,     -0.01263],\n  [0.0250,     -0.01743],\n  [0.0500,     -0.02369],\n  [0.0750,     -0.02800],\n  [0.1000,     -0.03121],\n  [0.1500,     -0.03564],\n  [0.2000,     -0.03825],\n  [0.2500,     -0.03961],\n  [0.3000,     -0.04001],\n  [0.4000,     -0.03869],\n  [0.5000,     -0.03529],\n  [0.6000,     -0.03043],\n  [0.7000,     -0.02443],\n  [0.8000,     -0.01749],\n  [0.9000,     -0.00965],\n  [0.9500,     -0.00537],\n  [1.0000,     -0.00084]\n];\n\nmodule.exports = NACA0008;\n\n\n\n// WEBPACK FOOTER //\n// ./js/airfoils/NACA0008.js","const NACA2412 = [\n  [1.0000, 0.0013],\n  [0.9500, 0.0114],\n  [0.9000, 0.0208],\n  [0.8000, 0.0375],\n  [0.7000, 0.0518],\n  [0.6000, 0.0636],\n  [0.5000, 0.0724],\n  [0.4000, 0.0780],\n  [0.3000, 0.0788],\n  [0.2500, 0.0767],\n  [0.2000, 0.0726],\n  [0.1500, 0.0661],\n  [0.1000, 0.0563],\n  [0.0750, 0.0496],\n  [0.0500, 0.0413],\n  [0.0250, 0.0299],\n  [0.0125, 0.0215],\n  [0.0000, 0.0000],\n  [0.0125, -0.0165],\n  [0.0250, -0.0227],\n  [0.0500, -0.0301],\n  [0.0750, -0.0346],\n  [0.1000, -0.0375],\n  [0.1500, -0.0410],\n  [0.2000, -0.0423],\n  [0.2500, -0.0422],\n  [0.3000, -0.0412],\n  [0.4000, -0.0380],\n  [0.5000, -0.0334],\n  [0.6000, -0.0276],\n  [0.7000, -0.0214],\n  [0.8000, -0.0150],\n  [0.9000, -0.0082],\n  [0.9500, -0.0048],\n  [1.0000, -0.0013]\n];\n\nmodule.exports = NACA2412;\n\n\n\n// WEBPACK FOOTER //\n// ./js/airfoils/NACA2412.js","const NACA6409 = [\n  [1.00000, 0.00000],\n  [0.99732, 0.00084],\n  [0.98930, 0.00333],\n  [0.97603, 0.00737],\n  [0.95760, 0.01284],\n  [0.93423, 0.01954],\n  [0.90615, 0.02724],\n  [0.87357, 0.03571],\n  [0.83690, 0.04464],\n  [0.79647, 0.05378],\n  [0.75272, 0.06283],\n  [0.70608, 0.07153],\n  [0.65710, 0.07961],\n  [0.60627, 0.08684],\n  [0.55413, 0.09302],\n  [0.50132, 0.09796],\n  [0.44840, 0.10152],\n  [0.39590, 0.10360],\n  [0.34367, 0.10352],\n  [0.29315, 0.10086],\n  [0.24502, 0.09584],\n  [0.19988, 0.08874],\n  [0.15830, 0.07992],\n  [0.12080, 0.06982],\n  [0.08780, 0.05889],\n  [0.05968, 0.04762],\n  [0.03677, 0.03646],\n  [0.01920, 0.02581],\n  [0.00720, 0.01603],\n  [0.00080, 0.00737],\n  [0.00000, 0.00000],\n  [0.00467, -0.00573],\n  [0.01467, -0.00956],\n  [0.02973, -0.01157],\n  [0.04970, -0.01192],\n  [0.07428, -0.01080],\n  [0.10317, -0.00844],\n  [0.13607, -0.00513],\n  [0.17257, -0.00119],\n  [0.21235, 0.00307],\n  [0.25498, 0.00729],\n  [0.30012, 0.01112],\n  [0.34730, 0.01425],\n  [0.39618, 0.01639],\n  [0.44707, 0.01772],\n  [0.49868, 0.01871],\n  [0.55040, 0.01925],\n  [0.60167, 0.01929],\n  [0.65193, 0.01880],\n  [0.70065, 0.01780],\n  [0.74728, 0.01634],\n  [0.79130, 0.01451],\n  [0.83223, 0.01241],\n  [0.86957, 0.01017],\n  [0.90288, 0.00791],\n  [0.93180, 0.00576],\n  [0.95593, 0.00383],\n  [0.97503, 0.00221],\n  [0.98883, 0.00101],\n  [0.99722, 0.00025],\n  [1.00000, 0.00000]\n];\n\nmodule.exports = NACA6409;\n\n\n\n// WEBPACK FOOTER //\n// ./js/airfoils/NACA6409.js","const plate = [\n  [0.0, 0.0],\n  [0.0, 0.1],\n  [0.01, 0.1],\n  [0.01, -0.1],\n  [0.0, -0.1]\n];\n\nmodule.exports = plate;\n\n\n\n// WEBPACK FOOTER //\n// ./js/airfoils/vertical_plate.js","import convex from './convex';\nimport { multiply, rotation, degToRads } from '../math';\n\nconst concave = convex.map( (point) => {\n  return multiply(rotation(degToRads(180)), point);\n});\n\nmodule.exports = concave;\n\n\n\n// WEBPACK FOOTER //\n// ./js/airfoils/concave.js","let convex = [];\n\nfor (let x = 0.25; x > 0; x -= 0.01) {\n  convex.push([x, -Math.sqrt((x - 2*Math.pow(x,2)/2))]);\n}\n\nfor (let x = 0; x < 0.25; x += 0.01) {\n  convex.push([x, Math.sqrt((x - 2*Math.pow(x,2)/2))]);\n}\n\nfor (let k = 0.25; k > 0.05; k -= 0.005) {\n  convex.push([k, (1/20)*Math.sqrt(-200*Math.pow(k,2) + 240*k - 11)]);\n}\n\nfor (let k = 0.05; k < 0.25; k += 0.005) {\n  convex.push([k, -(1/20)*Math.sqrt(-200*Math.pow(k,2) + 240*k - 11)]);\n}\n\n\nmodule.exports = convex;\n\n\n\n// WEBPACK FOOTER //\n// ./js/airfoils/convex.js","function multiply(A, B) {\n  if (canMultiply(A, B)) {\n    let out = [];\n    for(let i = 0; i < A.length; i++) {\n      let sum = 0;\n      for(let j = 0; j < A[0].length; j++) {\n        sum = sum + (A[i][j] * B[j]);\n      }\n      out.push(sum);\n    }\n\n    return out;\n  }\n\n  function canMultiply(A, B) {\n    if (A[0].length === B.length) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n\nfunction rotation(theta) {\n  return [\n    [Math.cos(theta), -1*Math.sin(theta)],\n    [Math.sin(theta), Math.cos(theta)]\n  ];\n}\n\nfunction subtract(A, B) {\n  let out = [];\n  for(let i = 0; i < A.length; i++) {\n    out.push([A[i][0] - B[0], A[i][1] - B[1]]);\n  }\n\n  return out;\n}\n\nfunction add(A, B) {\n  let out = [];\n  for(let i = 0; i < A.length; i++) {\n    out.push([ Math.round(A[i][0] + B[0]), Math.round(A[i][1] + B[1]) ]);\n  }\n\n  return out;\n}\n\nfunction degToRads(deg) {\n  return deg * Math.PI/180;\n}\n\nexport { multiply, rotation, subtract, add, degToRads };\n\n\n\n// WEBPACK FOOTER //\n// ./js/math.js","function pointInPolygon(x, y, polygon) {\n  var inside = false;\n  for(var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    var xi = polygon[i][0], yi = polygon[i][1];\n    var xj = polygon[j][0], yj = polygon[j][1];\n\n    var intersect = ((yi > y) != (yj > y))\n        && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n    if (intersect) inside = !inside;\n  }\n\n  return inside;\n}\n\nexport { pointInPolygon };\n\n\n\n// WEBPACK FOOTER //\n// ./js/selectors.js"],"sourceRoot":""}